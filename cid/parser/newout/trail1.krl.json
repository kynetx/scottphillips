{
   "dispatch": [],
   "global": [],
   "meta": {},
   "rules": [{
      "actions": [{"action": {
         "args": [{
            "args": [
               {
                  "type": "str",
                  "val": "You win the prize!  You've seen "
               },
               {
                  "type": "var",
                  "val": "t"
               }
            ],
            "op": "+",
            "type": "prim"
         }],
         "modifiers": null,
         "name": "alert",
         "source": null
      }}],
      "blocktype": "every",
      "callbacks": null,
      "cond": {
         "domain": "ent",
         "op": "before",
         "regexp_1": "/archive/2006",
         "regexp_2": "/archive/2007",
         "type": "seen_compare",
         "var": "my_trail"
      },
      "emit": null,
      "foreach": [],
      "name": "frequent_archive_visitor",
      "pagetype": {"event_expr": {
         "legacy": 1,
         "op": "pageview",
         "pattern": "/archives/\\d+/\\d+/",
         "type": "prim_event",
         "vars": []
      }},
      "post": {
         "alt": [{
            "action": "mark",
            "domain": "ent",
            "name": "my_trail",
            "type": "persistent",
            "with": {
               "type": "var",
               "val": "x"
            }
         }],
         "cons": [{
            "action": "forget",
            "domain": "ent",
            "name": "my_trail",
            "regexp": "/archive/2006",
            "type": "persistent"
         }],
         "type": "fired"
      },
      "pre": [
         {
            "lhs": "t",
            "rhs": {
               "domain": "ent",
               "name": "my_trail",
               "type": "persistent"
            },
            "type": "expr"
         },
         {
            "lhs": "x",
            "rhs": {
               "domain": "ent",
               "name": "another_trail",
               "offset": {
                  "type": "num",
                  "val": 1
               },
               "type": "trail_history"
            },
            "type": "expr"
         }
      ],
      "state": "active"
   }],
   "ruleset_name": "10"
}
