<?xml version="1.0"?>
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
<!DOCTYPE dialog SYSTEM "chrome://kynetx-a8x15/locale/about.dtd">
<dialog title="&about; EXTNAME" orient="vertical" autostretch="always" onload="showDomainList()" buttons="accept" xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
<!-- Original template by Jed Brown -->
<script>
	var wm = Components.classes["@mozilla.org/appshell/window-mediator;1"]
	                   .getService(Components.interfaces.nsIWindowMediator);
	var browserWindow = wm.getMostRecentWindow("navigator:browser");
	function showDomainList(){
		var domainlist = browserWindow.com.kynetx.a8x15.domains;
		var displaylist = document.getElementById("kynetx-a8x15-domainlist");
		while (displaylist.hasChildNodes()){
			displaylist.removeChild(displaylist.firstChild);
		}
		for (i in domainlist){
			var d = domainlist[i];
			var t = document.createElement("text");
			t.setAttribute("value", d);
			displaylist.appendChild(t);
		}
		sizeToContent();
	};
	function refreshDomains(){
		browserWindow.com.kynetx.a8x15.refreshDomainList(showDomainList);
	};
</script>
<groupbox align="center" orient="horizontal">
<vbox>
  <text value="EXTNAME" style="font-weight: bold; font-size: x-large;"/>
  <text value="&version; 1.0"/>
  <separator class="thin"/>
  <text value="&createdBy;" style="font-weight: bold;"/>
  <text value="EXTAUTHOR"/>
  <separator class="thin"/>
  <text value="Domains" style="font-weight: bold;"/>
  <vbox id="kynetx-a8x15-domainlist">
  </vbox>
  <button label="Refresh" onclick="refreshDomains();"/>
</vbox>
</groupbox>
</dialog>
